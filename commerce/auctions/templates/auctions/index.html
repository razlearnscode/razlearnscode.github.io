{% extends "auctions/layout.html" %} {% block body %}

<div class="active-listings">
  <div class="container">
    <h1 class="page-title">Active Listings</h1>

    <div class="listings-grid">
      {% for listing in active_listings %}
      <div class="listing-card">
        <img
          src="{{ listing.imageURL }}"
          alt="{{ listing.title }}"
          class="listing-image"
        />
        <div class="listing-info">
          <h2 class="listing-title">{{ listing.title }}</h2>
          <p class="listing-description">{{ listing.description }}</p>

          {% if listing.highest_bid %}
          <p class="listing-bid">
            <strong>Current Highest Bid:</strong> ${{ listing.highest_bid }}
          </p>
          {% else %}
          <p class="listing-bid">
            <strong>Current Highest Bid:</strong> No bids yet
          </p>
          {% endif %}

          <a href="{% url 'listing_page' listing.id %}" class="btn btn-primary"
            >View Details</a
          >
        </div>
      </div>
      {% empty %}
      <p>No listings available at the moment.</p>
      {% endfor %}
    </div>
  </div>
</div>

{% endblock %}
